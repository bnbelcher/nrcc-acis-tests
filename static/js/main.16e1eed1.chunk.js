(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{44:function(e,t,a){e.exports=a(76)},49:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(34),l=a.n(o),s=(a(49),a(35)),i=a(36),c=a(41),u=a(37),d=a(42),m=a(40),p=a(17),h=a.n(p),f=a(89),b=a(39),v=a.n(b),g=a(18),E=a.n(g),y=a(11),w=a.n(y),k=window.location.protocol,Y=function(e){var t=e.variable,a=e.period,n=e.bounds,r={meta:"name,ll,uid",elems:t,output:"json",sdate:a[0],edate:a[1],bbox:n};return E.a.post("".concat(k,"//data.rcc-acis.org/StnMeta"),r).then(function(e){return e.data.meta}).catch(function(e){console.log("Request Error: "+(e.response.data||e.response.statusText))})};Y.propTypes={variable:w.a.string.isRequired,period:w.a.array.isRequired,bounds:w.a.string.isRequired};var C=Y,S=window.location.protocol,x=function(e){var t=e.uid,a=e.variable,n=e.period,r={uid:t,meta:"name,state",sdate:n[0],edate:n[1],elems:[{name:a}]};return E.a.post("".concat(S,"//data.rcc-acis.org/StnData"),r).then(function(e){return e.data.data}).catch(function(e){console.log("Request Error: "+(e.response.data||e.response.statusText))})};x.propTypes={uid:w.a.string.isRequired,variable:w.a.string.isRequired,period:w.a.array.isRequired};var D=x,M=function(e){var t=e.onchange;return r.a.createElement("form",null,r.a.createElement("label",{style:{fontWeight:"bold",float:"left"}},"Variable:",r.a.createElement("select",{onChange:t},r.a.createElement("option",{value:"avgt"},"Ave Temperature"),r.a.createElement("option",{value:"pcpn"},"Precipitation"))))},R=function(e){var t=e.onchange;return r.a.createElement("form",null,r.a.createElement("label",{style:{fontWeight:"bold",float:"left"}},"Time period:",r.a.createElement("select",{onChange:t},r.a.createElement("option",{value:"7"},"last 7 days"),r.a.createElement("option",{value:"30"},"last 30 days"),r.a.createElement("option",{value:"90"},"last 90 days"))))},W=(a(70),a(88)),q=a(91),T=a(90),j=a(92),N=function(e){var t=e.center,a=e.stations,n=e.selected,o=e.onclick;return r.a.createElement(W.a,{center:t,zoomControl:!1,zoom:7,attributionControl:!1,style:{height:"300px",width:"300px"}},r.a.createElement(q.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),a&&a.map(function(e,t){return r.a.createElement(T.a,{key:t+"marker",center:[e.ll[1],e.ll[0]],radius:3,color:n===e.name?"red":"black",onClick:function(){o(e)}})}),r.a.createElement(j.a,{position:"topleft"}))},O=function(e){var t=e.title,a=e.data;return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("span",{style:{fontWeight:"bold",float:"left"}},t),r.a.createElement("br",null),r.a.createElement("table",{border:"1"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{align:"left"},"Date"),r.a.createElement("th",{align:"left"},"Value")),a.map(function(e,t){return r.a.createElement("tr",{key:e[0]},r.a.createElement("td",{align:"left"},e[0]),r.a.createElement("td",{align:"left"},e[1]))}))))},z=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleStationChange=function(e){a.setState({data:null,station:e.name}),D({uid:e.uid,variable:a.state.variable,period:a.state.period}).then(function(e){return a.setState({data:e})})},a.handleVariableChange=function(e){a.setState({stations:null,station:null,data:null,variable:e.target.value})},a.handlePeriodChange=function(e){var t=parseInt(e.target.value,10);a.setState({stations:null,station:null,data:null,time:t,period:[h()().subtract(t,"days").format("YYYY-MM-DD"),h()().format("YYYY-MM-DD")]})};var n=h()().subtract(6,"days"),r=h()();return a.state={stations:null,station:null,period:[n.format("YYYY-MM-DD"),r.format("YYYY-MM-DD")],time:7..toString(),variable:"avgt",bounds:"-78,41,-75,44",center:[42.5,-76.5],data:null},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;C({variable:this.state.variable,period:this.state.period,bounds:this.state.bounds}).then(function(t){return e.setState({stations:t})})}},{key:"componentDidUpdate",value:function(e,t){var a=this;t.variable===this.state.variable&&t.period===this.state.period&&t.bounds===this.state.bounds||C({variable:this.state.variable,period:this.state.period,bounds:this.state.bounds}).then(function(e){return a.setState({stations:e})})}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:"tool"},r.a.createElement("div",{className:"tool-header"},r.a.createElement("span",{style:{fontSize:"24px",fontWeight:"bold",float:"left"}},"Recent weather station data"),r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement("div",{className:"user-input"},r.a.createElement(M,{onchange:this.handleVariableChange}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(R,{onchange:this.handlePeriodChange}),r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement("div",{className:e.progressWrapper},r.a.createElement(N,{center:this.state.center,stations:this.state.stations,selected:this.state.station,onclick:this.handleStationChange}),!this.state.stations&&r.a.createElement(f.a,{size:64,className:e.mapProgress})),r.a.createElement("div",{className:e.progressWrapper},this.state.stations&&this.state.station&&this.state.data&&r.a.createElement(O,{title:this.state.station,data:this.state.data}),this.state.stations&&this.state.station&&!this.state.data&&r.a.createElement("span",{style:{color:"red",float:"left",padding:"20px"}},"Loading Table ..."),this.state.stations&&!this.state.station&&!this.state.data&&r.a.createElement("span",{style:{color:"black",float:"left",padding:"20px"}},"Click a station from map")))}}]),t}(n.Component),P=Object(m.a)(function(e){return{progressWrapper:{position:"relative"},mapProgress:{color:v.a[500],position:"absolute",zIndex:1e3,top:"50%",left:"150px",marginTop:-30,marginLeft:-30}}})(z);a(75);var V=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(P,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(V,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[44,1,2]]]);
//# sourceMappingURL=main.16e1eed1.chunk.js.map